@{
    var siteSettings = ViewData["SiteSettings"] as BalonPark.Models.Settings;
    var companyName = siteSettings?.CompanyName ?? "Balon Park Şişme Oyun Grupları";
    var defaultDescription = $"{companyName} - Türkiye'nin en kaliteli şişme oyun parkları, kaydıraklar, havuzlar ve çocuk oyun grupları. Güvenli, dayanıklı ve eğlenceli ürünler. Hızlı teslimat ve uygun fiyatlar.";
    
    var sameAsLinks = new List<string>();
    if (!string.IsNullOrEmpty(siteSettings?.WhatsApp))
        sameAsLinks.Add($"https://wa.me/{siteSettings.WhatsApp.Replace("+", "").Replace(" ", "")}");
    if (!string.IsNullOrEmpty(siteSettings?.Facebook))
        sameAsLinks.Add(siteSettings.Facebook);
    if (!string.IsNullOrEmpty(siteSettings?.Instagram))
        sameAsLinks.Add(siteSettings.Instagram);
    if (!string.IsNullOrEmpty(siteSettings?.Twitter))
        sameAsLinks.Add(siteSettings.Twitter);
    if (!string.IsNullOrEmpty(siteSettings?.LinkedIn))
        sameAsLinks.Add(siteSettings.LinkedIn);
    if (!string.IsNullOrEmpty(siteSettings?.YouTube))
        sameAsLinks.Add(siteSettings.YouTube);
}
<!DOCTYPE html>
<html lang="tr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="@Html.Raw(ViewData["Description"] ?? siteSettings?.MetaDescription ?? defaultDescription)">
    <meta name="keywords"
        content="@Html.Raw(ViewData["Keywords"] ?? siteSettings?.MetaKeywords ?? "şişme oyun parkı, şişme kaydırak, şişme havuz, şişme rodeo, top havuzu, iç mekan oyun parkları, trambolin, softplay oyuncaklar, yer balonları, balon tak, fly tüp, şişme kostüm, reklam balonları, balon park, çocuk oyun grupları, şişme oyuncaklar, çocuk parkı, oyun alanı")">
    <meta name="author" content="@Html.Raw(companyName)">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="language" content="tr">
    <meta name="revisit-after" content="1 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="geo.region" content="TR">
    <meta name="geo.country" content="Turkey">
    <meta name="geo.placename" content="Türkiye">
    <meta name="theme-color" content="#00A8E8">
    <meta name="msapplication-TileColor" content="#00A8E8">
    <meta name="msapplication-TileImage" content="@(siteSettings?.Logo != null ? (((IUrlService?)ViewData["UrlService"])?.GetImageUrl(siteSettings.Logo) ?? siteSettings.Logo) : (((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? "~/assets/images/logo/logo.png"))" />
    
    <!-- Google Site Verification -->
    <meta name="google-site-verification" content="F_BstXveZuxy3SW8EKy17v6P8JKhcQ7cm_U3jaaEcu0">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8VRG223YDS"></script>
    <script src="~/js/analytics.js"></script>

    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="@(ViewData["Image"] != null && ViewData["Image"]?.ToString()?.Contains("uploads") == true ? "product" : "website")">
    <meta property="og:title" content="@Html.Raw(ViewData["Title"] ?? siteSettings?.MetaTitle ?? companyName)">
    <meta property="og:description"
        content="@Html.Raw(ViewData["Description"] ?? siteSettings?.MetaDescription ?? defaultDescription)">
    <meta property="og:image" content="@(ViewData["Image"] ?? ((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? $"{Context.Request.Scheme}://{Context.Request.Host}/assets/images/logo/logo.png")">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="@Html.Raw(ViewData["Title"] ?? companyName)">
    <meta property="og:url"
        content="@(((IUrlService?)ViewData["UrlService"])?.GetPageUrl($"{Context.Request.Path}{Context.Request.QueryString}") ?? $"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}{Context.Request.QueryString}")">
    <meta property="og:site_name" content="@Html.Raw(companyName)">
    <meta property="og:locale" content="tr_TR">
    
    @if (ViewData["ProductPrice"] != null)
    {
        <meta property="product:price:amount" content="@ViewData["ProductPrice"]">
        <meta property="product:price:currency" content="@ViewData["ProductCurrency"]">
        <meta property="product:availability" content="@ViewData["ProductAvailability"]">
        <meta property="product:condition" content="@ViewData["ProductCondition"]">
        <meta property="product:brand" content="@ViewData["ProductBrand"]">
        <meta property="product:retailer_item_id" content="@ViewData["ProductSku"]">
    }

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="@(ViewData["ProductPrice"] != null ? "summary_large_image" : "summary_large_image")">
    <meta name="twitter:title" content="@Html.Raw(ViewData["Title"] ?? siteSettings?.MetaTitle ?? companyName)">
    <meta name="twitter:description"
        content="@Html.Raw(ViewData["Description"] ?? siteSettings?.MetaDescription ?? defaultDescription)">
    <meta name="twitter:image" content="@(ViewData["Image"] ?? ((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? $"{Context.Request.Scheme}://{Context.Request.Host}/assets/images/logo/logo.png")">
    <meta name="twitter:image:alt" content="@Html.Raw(ViewData["Title"] ?? companyName)">
    <meta name="twitter:site" content="@@balonpark">
    <meta name="twitter:creator" content="@@balonpark">

    <!-- Additional SEO -->
    <meta name="theme-color" content="#FFFFFF">
    <meta name="msapplication-TileColor" content="#fdfdfe">
    <link rel="canonical"
        href="@(((IUrlService?)ViewData["UrlService"])?.GetPageUrl($"{Context.Request.Path}{Context.Request.QueryString}") ?? $"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}{Context.Request.QueryString}")">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@@context": "https://schema.org",
        "@@type": ["Organization", "LocalBusiness", "Store"],
        "name": "@Html.Raw(companyName)",
        "alternateName": "@Html.Raw(companyName.Replace(" ", ""))",
        "description": "@Html.Raw(siteSettings?.About ?? defaultDescription)",
        "url": "@(((IUrlService?)ViewData["UrlService"])?.GetPageUrl($"{Context.Request.Path}{Context.Request.QueryString}") ?? $"{Context.Request.Scheme}://{Context.Request.Host}{Context.Request.Path}{Context.Request.QueryString}")",
        "logo": "@(siteSettings?.Logo != null ? (((IUrlService?)ViewData["UrlService"])?.GetImageUrl(siteSettings.Logo) ?? $"{Context.Request.Scheme}://{Context.Request.Host}{siteSettings.Logo}") : (((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? $"{Context.Request.Scheme}://{Context.Request.Host}/assets/images/logo/logo.png"))",
        "image": "@(siteSettings?.Logo != null ? (((IUrlService?)ViewData["UrlService"])?.GetImageUrl(siteSettings.Logo) ?? $"{Context.Request.Scheme}://{Context.Request.Host}{siteSettings.Logo}") : (((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? $"{Context.Request.Scheme}://{Context.Request.Host}/assets/images/logo/logo.png"))",
        "sameAs": [@Html.Raw(string.Join(", ", sameAsLinks.Select(l => $"\"{l}\"")))],
        "contactPoint": {
            "@@type": "ContactPoint",
            "contactType": "customer service",
            "telephone": "@Html.Raw(siteSettings?.PhoneNumber ?? "+90-533-635-50-39")",
            "email": "@Html.Raw(siteSettings?.Email ?? "info@balonpark.com")",
            "availableLanguage": ["Turkish", "English"],
            "contactOption": "TollFree",
            "areaServed": "TR",
            "hoursAvailable": {
                "@@type": "OpeningHoursSpecification",
                "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                "opens": "00:00",
                "closes": "23:59"
            }
        },
        "address": {
            "@@type": "PostalAddress",
            "streetAddress": "@Html.Raw(siteSettings?.Address ?? "")",
            "addressLocality": "@Html.Raw(siteSettings?.City ?? "Türkiye")",
            "addressRegion": "@Html.Raw(siteSettings?.District ?? "")",
            "postalCode": "@Html.Raw(siteSettings?.PostalCode ?? "")",
            "addressCountry": "@Html.Raw(siteSettings?.Country ?? "TR")"
        },
        "foundingDate": "2020",
        "numberOfEmployees": "10-50",
        "industry": "Manufacturing",
        "knowsAbout": [
            "@Html.Raw("Şişme Oyun Parkları")",
            "@Html.Raw("Çocuk Oyun Grupları")",
            "@Html.Raw("Şişme Kaydıraklar")",
            "@Html.Raw("Şişme Havuzlar")",
            "@Html.Raw("Top Havuzları")",
            "@Html.Raw("İç Mekan Oyun Parkları")"
        ],
        "aggregateRating": {
            "@@type": "AggregateRating",
            "ratingValue": "4.8",
            "reviewCount": "250",
            "bestRating": "5",
            "worstRating": "1"
        },
        "priceRange": "$$"
    }
    </script>

    <!-- Favicon -->
    @{
        var logoUrl = siteSettings?.Logo != null ? (((IUrlService?)ViewData["UrlService"])?.GetImageUrl(siteSettings.Logo) ?? siteSettings.Logo) : (((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? "~/assets/images/logo/logo.png");
    }
    <link rel="icon" href="@logoUrl" type="image/png">
    <link rel="shortcut icon" href="@logoUrl" type="image/png">
    <link rel="apple-touch-icon" href="@logoUrl">
    <link rel="icon" sizes="32x32" href="@logoUrl">
    <link rel="icon" sizes="16x16" href="@logoUrl">
    <title>@Html.Raw(ViewData["Title"] ?? siteSettings?.MetaTitle ?? companyName)</title>

    <!-- Tailwind CSS (built; run "npm run build:css" in BalonPark to rebuild) -->
    <link href="~/css/tailwind.css" rel="stylesheet">
    <link href="~/css/favorites-compare.css" rel="stylesheet">
    <!-- Swiper (carousel) - required for ProductDetail gallery and category slider -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <!-- Lucide Icons (best practice: fixed version, tree-shake via data-lucide) -->
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.526.0/dist/umd/lucide.min.js" crossorigin="anonymous"></script>
    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    @await RenderSectionAsync("Styles", required: false)

    <!-- Blog Structured Data -->
    @if (ViewData["StructuredData"] != null)
    {
        <script type="application/ld+json">
            @Html.Raw(ViewData["StructuredData"])
        </script>
    }

</head>

<body class="font-sans text-[13px] bg-white text-ink antialiased min-h-screen flex flex-col">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TV5NVNB4"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="main-wrapper flex flex-col min-h-screen flex-1">

    <!-- Header -->
    <header class="bg-white border-b border-gray-100 sticky top-0 z-[60]">
        <div class="max-w-7xl mx-auto px-4 py-2.5">
            <div class="flex flex-wrap items-center justify-between gap-2.5">
                <button type="button" class="xl:hidden inline-flex items-center justify-center w-9 h-9 rounded bg-gray-100 text-ink hover:bg-gray-200 transition" onclick="toggleCategoryMenu()" aria-label="Menü">
                    <i data-lucide="menu" class="w-4 h-4"></i>
                </button>

                <a asp-page="/Index" class="xl:hidden flex-shrink-0">
                    <img src="@(siteSettings?.Logo != null ? (((IUrlService?)ViewData["UrlService"])?.GetImageUrl(siteSettings.Logo) ?? siteSettings.Logo) : (((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? "~/assets/images/logo/logo.png"))" alt="@Html.Raw(companyName) Logo" class="h-auto w-auto" loading="eager">
                </a>

                <div class="flex-1 flex items-center gap-2.5 min-w-0 max-w-2xl">
                    <div class="hidden xl:flex items-center gap-1 rounded bg-gray-50 p-1">
                        <button type="button" class="currency-btn w-8 h-8 rounded inline-flex items-center justify-center text-xs transition @(ViewData["SelectedCurrency"]?.ToString() == "TL" ? "bg-ink text-white" : "text-ink hover:bg-gray-100")" data-currency="TL" onclick="setCurrency('TL')"><i data-lucide="badge-turkish-lira" class="w-4 h-4"></i></button>
                        <button type="button" class="currency-btn w-8 h-8 rounded inline-flex items-center justify-center text-xs transition @(ViewData["SelectedCurrency"]?.ToString() == "USD" ? "bg-ink text-white" : "text-ink hover:bg-gray-100")" data-currency="USD" onclick="setCurrency('USD')"><i data-lucide="dollar-sign" class="w-4 h-4"></i></button>
                        <button type="button" class="currency-btn w-8 h-8 rounded inline-flex items-center justify-center text-xs transition @(ViewData["SelectedCurrency"]?.ToString() == "EUR" ? "bg-ink text-white" : "text-ink hover:bg-gray-100")" data-currency="EUR" onclick="setCurrency('EUR')"><i data-lucide="euro" class="w-4 h-4"></i></button>
                    </div>
                    <form action="/Search" method="get" class="flex-1 min-w-0">
                        <div class="relative">
                            <input type="search" name="q" placeholder="Ürün veya kategori ara..." class="w-full rounded border border-gray-200 pl-3.5 pr-9 py-2 text-sm text-ink placeholder-gray-400 focus:border-primary focus:ring-1 focus:ring-primary">
                            <button type="submit" class="absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary transition"><i data-lucide="search" class="w-4 h-4"></i></button>
                        </div>
                    </form>
                </div>

                <div class="flex items-center gap-1 sm:gap-2 flex-shrink-0">
                    <a href="#" onclick="showFavorites(); return false;" class="hidden sm:flex items-center gap-1.5 py-2 px-2.5 rounded hover:bg-gray-50 text-ink hover:text-primary transition text-sm">
                        <i data-lucide="heart" class="w-4 h-4 lucide-fav-header"></i>
                        <span class="favorites-count-text text-gray-500">0</span>
                    </a>
                    <a href="#" onclick="showCompare(); return false;" class="hidden sm:flex items-center gap-1.5 py-2 px-2.5 rounded hover:bg-gray-50 text-ink hover:text-primary transition text-sm">
                        <i data-lucide="shuffle" class="w-4 h-4"></i>
                        <span class="compare-count-text text-gray-500">0</span>
                    </a>
                    <a href="tel:+905336355039" class="flex items-center gap-1.5 py-2 px-2.5 rounded hover:bg-gray-50 text-ink transition text-sm">
                        <i data-lucide="phone" class="w-4 h-4"></i>
                        <span class="hidden sm:inline">+90 533 635 50 39</span>
                    </a>
                    <a asp-page="/Iletisim" class="flex items-center gap-1.5 py-2 px-2.5 rounded bg-primary text-white hover:bg-primary-dark transition font-medium text-sm">
                        <i data-lucide="mail" class="w-4 h-4"></i>
                        <span class="hidden sm:inline">İletişim</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 w-full max-w-7xl mx-auto px-3 sm:px-4 py-4 gap-6">
                <div id="sidebar-overlay" class="fixed inset-0 bg-black/50 z-[55] xl:hidden hidden" onclick="toggleCategoryMenu()" aria-hidden="true"></div>
                <aside id="sidebar-col" class="sidebar-col w-72 xl:w-60 flex-shrink-0 bg-white border-r border-gray-100 xl:border-r xl:shadow-none shadow-xl overflow-y-auto fixed inset-y-0 left-0 z-[50] xl:static xl:inset-auto transition-transform duration-300 -translate-x-full xl:translate-x-0" aria-label="Kategoriler">
                    <div class="relative pt-14 xl:pt-4 pb-5 px-4 xl:px-0 xl:pr-4 h-full overflow-y-auto overflow-x-hidden">
                        <button type="button" class="xl:hidden absolute top-3 right-3 w-9 h-9 rounded-full bg-gray-100 text-ink flex items-center justify-center hover:bg-gray-200 transition" onclick="toggleCategoryMenu()" aria-label="Kapat">
                            <i data-lucide="x" class="w-4 h-4"></i>
                        </button>
                        <a asp-page="/Index" class="hidden xl:block mb-4">
                            <img src="@(siteSettings?.Logo != null ? (((IUrlService?)ViewData["UrlService"])?.GetImageUrl(siteSettings.Logo) ?? siteSettings.Logo) : (((IUrlService?)ViewData["UrlService"])?.GetImageUrl("/assets/images/logo/logo.png") ?? "~/assets/images/logo/logo.png"))" alt="@Html.Raw(companyName) Logo" class="h-auto w-auto" loading="eager">
                        </a>

                        <!-- Mobile: Sayfalar -->
                        <div class="xl:hidden mb-4 mt-4">
                            <p class="text-xs font-medium tracking-wider text-gray-400 uppercase mb-2">Sayfalar</p>
                            <ul class="space-y-1">
                                <li><a asp-page="/Index" class="flex items-center gap-2.5 py-2 px-2.5 text-sm text-ink hover:text-primary hover:bg-gray-50 rounded"><i data-lucide="home" class="w-5 h-5 text-gray-400 flex-shrink-0"></i>Ana Sayfa</a></li>
                                <li><a asp-page="/Hakkimizda" class="flex items-center gap-2.5 py-2 px-2.5 text-sm text-ink hover:text-primary hover:bg-gray-50 rounded"><i data-lucide="info" class="w-5 h-5 text-gray-400 flex-shrink-0"></i>Hakkımızda</a></li>
                                <li><a asp-page="/Blog" class="flex items-center gap-2.5 py-2 px-2.5 text-sm text-ink hover:text-primary hover:bg-gray-50 rounded"><i data-lucide="book-open" class="w-5 h-5 text-gray-400 flex-shrink-0"></i>Blog</a></li>
                                <li><a asp-page="/Iletisim" class="flex items-center gap-2.5 py-2 px-2.5 text-sm text-ink hover:text-primary hover:bg-gray-50 rounded"><i data-lucide="mail" class="w-5 h-5 text-gray-400 flex-shrink-0"></i>İletişim</a></li>
                            </ul>
                        </div>

                        <!-- Kategoriler başlık -->
                        <p class="text-xs font-medium tracking-wider text-gray-400 uppercase pt-1 xl:pt-0 pb-2.5 border-b border-gray-100 mb-2.5">Kategoriler</p>
                        <ul class="list-none p-0 m-0">
                            @if (Model.Categories != null && Model.Categories.Count > 0)
                            {
                                @foreach (var category in Model.Categories)
                                {
                                    var hasSubCategories = category.SubCategories != null && category.SubCategories.Count > 0;
                                    <li class="category-item border-b border-gray-50 last:border-b-0" data-category-id="@category.Id">
                                        <div class="flex items-center min-h-0">
                                            <a href="/category/@category.Slug" class="category-link flex-1 min-w-0 flex items-center gap-2.5 py-2.5 px-2 rounded hover:bg-gray-50 transition" data-category-slug="@category.Slug">
                                                @if (!string.IsNullOrEmpty(category.FirstProductImage))
                                                {
                                                    <img src="@(((IUrlService?)ViewData["UrlService"])?.GetImageUrl(category.FirstProductImage) ?? category.FirstProductImage)" alt="" class="lazy-image w-8 h-8 rounded object-cover flex-shrink-0" loading="lazy">
                                                }
                                                else
                                                {
                                                    <span class="w-8 h-8 rounded bg-gray-100 flex items-center justify-center flex-shrink-0 text-gray-400"><i data-lucide="folder" class="w-4 h-4"></i></span>
                                                }
                                                <span class="category-name text-sm font-medium text-ink truncate hover:text-primary">@Html.Raw(category.Name)</span>
                                            </a>
                                            @if (hasSubCategories)
                                            {
                                                <button class="category-toggle w-8 h-8 flex-shrink-0 rounded flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-primary transition text-xs" type="button" data-category-id="@category.Id" onclick="toggleSubCategories(event, @category.Id)" aria-expanded="false">
                                                    <i data-lucide="chevron-down" class="w-4 h-4 transition-transform duration-200"></i>
                                                </button>
                                            }
                                        </div>
                                        @if (hasSubCategories)
                                        {
                                            <ul class="subcategory-list list-none p-0 m-0 max-h-0 overflow-hidden transition-all duration-200 opacity-0 bg-gray-50/50" id="subcategories-@category.Id">
                                                @foreach (var subCategory in category.SubCategories)
                                                {
                                                    <li>
                                                        <a href="/category/@category.Slug/@subCategory.Slug" class="subcategory-link flex items-center py-2 pl-7 pr-2.5 text-sm text-gray-600 no-underline rounded hover:bg-gray-100 hover:text-primary transition" data-category-slug="@category.Slug" data-subcategory-slug="@subCategory.Slug">
                                                            @Html.Raw(subCategory.Name)
                                                        </a>
                                                    </li>
                                                }
                                            </ul>
                                        }
                                    </li>
                                }
                            }
                            else
                            {
                                <li class="py-3 text-sm text-gray-500">Kategoriler yükleniyor...</li>
                            }
                        </ul>

                        <!-- Mobile: Hızlı Erişim & Para Birimi -->
                        <div class="xl:hidden mt-4 pt-4 border-t border-gray-100">
                            <p class="text-xs font-medium tracking-wider text-gray-400 uppercase mb-2">Hızlı Erişim</p>
                            <ul class="space-y-1 mb-4">
                                <li><a href="#" class="flex items-center gap-2.5 py-2 px-2.5 text-sm text-ink hover:bg-gray-50 rounded" onclick="showFavorites(); return false;"><i data-lucide="heart" class="w-5 h-5 text-gray-400 flex-shrink-0"></i>Favoriler <span class="favorites-count-text text-gray-400">0</span></a></li>
                                <li><a href="#" class="flex items-center gap-2.5 py-2 px-2.5 text-sm text-ink hover:bg-gray-50 rounded" onclick="showCompare(); return false;"><i data-lucide="shuffle" class="w-5 h-5 text-gray-400 flex-shrink-0"></i>Karşılaştır <span class="compare-count-text text-gray-400">0</span></a></li>
                            </ul>
                            <p class="text-xs font-medium tracking-wider text-gray-400 uppercase mb-2">Para Birimi</p>
                            <div class="flex gap-2">
                                <button type="button" class="currency-btn flex-1 inline-flex items-center justify-center gap-1.5 py-2 px-2.5 rounded text-sm border transition @(ViewData["SelectedCurrency"]?.ToString() == "TL" ? "bg-ink text-white border-ink" : "bg-white border-gray-200 text-gray-600 hover:bg-gray-50")" data-currency="TL" onclick="setCurrency('TL')"><i data-lucide="badge-turkish-lira" class="w-4 h-4"></i> TL</button>
                                <button type="button" class="currency-btn flex-1 inline-flex items-center justify-center gap-1.5 py-2 px-2.5 rounded text-sm border transition @(ViewData["SelectedCurrency"]?.ToString() == "USD" ? "bg-ink text-white border-ink" : "bg-white border-gray-200 text-gray-600 hover:bg-gray-50")" data-currency="USD" onclick="setCurrency('USD')"><i data-lucide="dollar-sign" class="w-4 h-4"></i> USD</button>
                                <button type="button" class="currency-btn flex-1 inline-flex items-center justify-center gap-1.5 py-2 px-2.5 rounded text-sm border transition @(ViewData["SelectedCurrency"]?.ToString() == "EUR" ? "bg-ink text-white border-ink" : "bg-white border-gray-200 text-gray-600 hover:bg-gray-50")" data-currency="EUR" onclick="setCurrency('EUR')"><i data-lucide="euro" class="w-4 h-4"></i> EUR</button>
                            </div>
                        </div>
                    </div>
                </aside>

                <main class="content-col flex-1 min-w-0">
                    <div class="main-content">
                        @RenderBody()
                    </div>
                </main>
    </div>

    <!-- WhatsApp FAB -->
    <a href="https://wa.me/905336355039" target="_blank" class="fixed bottom-6 right-6 z-40 w-14 h-14 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg hover:bg-green-600 hover:scale-110 transition-all" aria-label="WhatsApp ile iletişime geç">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </a>

    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex flex-wrap items-center justify-between gap-4">
                <p class="text-sm text-gray-600">© @DateTime.Now.Year @Html.Raw(companyName). Tüm hakları saklıdır.</p>
                <nav class="flex flex-wrap gap-4 text-sm">
                    <a asp-page="/Hakkimizda" class="text-gray-600 hover:text-primary">Hakkımızda</a>
                    <a asp-page="/Blog" class="text-gray-600 hover:text-primary">Blog</a>
                    <a asp-page="/Iletisim" class="text-gray-600 hover:text-primary">İletişim</a>
                    <a asp-page="/Sitemap" class="text-gray-600 hover:text-primary">Site Haritası</a>
                    <a asp-page="/Privacy" class="text-gray-600 hover:text-primary">Gizlilik</a>
                    <a asp-page="/KullanimKosullari" class="text-gray-600 hover:text-primary">Kullanım Koşulları</a>
                </nav>
                @if (!string.IsNullOrEmpty(siteSettings?.Facebook) || !string.IsNullOrEmpty(siteSettings?.Instagram) || !string.IsNullOrEmpty(siteSettings?.Twitter) || !string.IsNullOrEmpty(siteSettings?.LinkedIn) || !string.IsNullOrEmpty(siteSettings?.YouTube))
                {
                    <div class="flex gap-4 text-gray-500">
                        @if (!string.IsNullOrEmpty(siteSettings?.Facebook)) { <a href="@siteSettings.Facebook" target="_blank" rel="noopener" class="hover:text-primary" aria-label="Facebook"><i data-lucide="facebook" class="w-5 h-5"></i></a> }
                        @if (!string.IsNullOrEmpty(siteSettings?.Instagram)) { <a href="@siteSettings.Instagram" target="_blank" rel="noopener" class="hover:text-primary" aria-label="Instagram"><i data-lucide="instagram" class="w-5 h-5"></i></a> }
                        @if (!string.IsNullOrEmpty(siteSettings?.Twitter)) { <a href="@siteSettings.Twitter" target="_blank" rel="noopener" class="hover:text-primary" aria-label="Twitter"><i data-lucide="twitter" class="w-5 h-5"></i></a> }
                        @if (!string.IsNullOrEmpty(siteSettings?.LinkedIn)) { <a href="@siteSettings.LinkedIn" target="_blank" rel="noopener" class="hover:text-primary" aria-label="LinkedIn"><i data-lucide="linkedin" class="w-5 h-5"></i></a> }
                        @if (!string.IsNullOrEmpty(siteSettings?.YouTube)) { <a href="@siteSettings.YouTube" target="_blank" rel="noopener" class="hover:text-primary" aria-label="YouTube"><i data-lucide="youtube" class="w-5 h-5"></i></a> }
                    </div>
                }
            </div>
        </div>
    </footer>

</div> <!-- main-wrapper end -->

    <!-- Critical JavaScript (loaded immediately) -->
    <script src="~/assets/js/jquery-3.6.0.min.js"></script>
    <script src="~/assets/js/bootstrap/bootstrap.bundle.min.js"></script>

    <!-- Non-critical JavaScript (loaded asynchronously) -->
    <script src="~/assets/js/bootstrap/popper.min.js" defer></script>
    <script src="~/assets/js/feather/feather.min.js" defer></script>
    <script src="~/assets/js/feather/feather-icon.js" defer></script>
    <script src="~/assets/js/lazysizes.min.js" defer></script>
    <script src="~/assets/js/slick/slick.js" defer></script>
    <script src="~/assets/js/slick/slick-animation.min.js" defer></script>
    <script src="~/assets/js/slick/custom_slick.js" defer></script>
    <script src="~/assets/js/auto-height.js" defer></script>
    <script src="~/assets/js/fly-cart.js" defer></script>
    <script src="~/assets/js/quantity-2.js" defer></script>
    <script src="~/assets/js/wow.min.js" defer></script>
    <script src="~/assets/js/custom-wow.js" defer></script>
    <script src="~/assets/js/script.js" defer></script>
    <script src="~/assets/js/theme-setting.js" defer></script>
    <script src="~/assets/semantic-ui/semantic.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>

    <!-- Snackbar (Material Design notifications) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css">
    <script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script>
    <script src="~/js/snackbar-helper.js"></script>

    <!-- Generic Tailwind modal (best practices: focus trap, Escape, backdrop, aria) -->
    <script src="~/js/modal-helper.js"></script>

    <!-- Favorites & Compare: load first so showFavorites/showCompare are defined -->
    <script src="~/js/favorites-compare.js"></script>
    <script src="~/js/site.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof lucide !== 'undefined' && lucide.createIcons) { lucide.createIcons(); }
        });
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
